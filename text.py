import numpy as np
import matplotlib.pyplot as plt

# Data
points = np.array([
    [-55.56, 304.44],
    [-160.14, 199.86],
    [117.55, 117.55],
    [-92.28, 267.72],
    [28.9, 28.9],
    [-138.2, 221.8],
    [43.34, 43.34],
    [130.2, 130.2],
    [-135.34, 224.66],
    [84.34, 84.34],
    [-29.54, 330.46],
    [30.48, 30.48],
    [-2.56, 357.44],
    [-82.67, 277.33],
    [-97.78, 262.22],
    [84.12, 84.12],
    [112.57, 112.57],
    [116.28, 116.28],
    [29.69, 29.69],
    [51.4, 51.4],
    [-33.74, 326.26],
    [109.43, 109.43],
    [150.03, 150.03],
    [101.06, 101.06],
    [-68.8, 291.2],
    [30.34, 30.34],
    [-28.18, 331.82],
    [-88.13, 271.87],
    [-29.76, 15.24],
    [-141.25, 263.75],
    [54.51, 99.51],
    [-88.03, 316.97],
    [30.48, 75.48],
    [38.22, 83.22],
    [-160.28, 244.72],
    [32.33, 77.33],
    [-153.67, 251.33],
    [-28.18, 16.82],
    [-140.11, 309.89],
    [60.01, 150.01],
    [-14.14, 75.86],
    [56.01, 146.01],
    [-73.21, 16.79],
    [-145.95, 304.05],
    [-92.28, 357.72],
    [55.9, 190.9],
    [-5.03, 129.97],
    [42.28, 177.28],
    [-153.58, 341.42],
    [-93.44, 41.56],
    [61.55, 196.55],
    [54.51, 234.51],
    [42.28, 222.28],
    [23.74, 203.74],
    [95.58, 275.58],
    [29.69, 209.69],
    [-145.93, 34.07],
    [-29.76, 150.24],
    [46.77, 226.77],
    [-76.45, 148.55],
    [60.2, 285.2],
    [109.63, 334.63],
    [60.01, 285.01],
    [-96.46, 128.54],
    [-153.67, 71.33],
    [109.43, 334.43],
    [55.9, 280.9],
    [-135.34, 89.66],
    [146.74, 371.74],
    [-64.72, 160.28],
    [-141.25, 83.75],
    [-58.64, 166.36],
    [93.67, 318.67],
    [112.57, 337.57],
    [30.48, 255.48],
    [-97.78, 127.22],
    [30.48, 300.48],
    [-2.56, 267.44],
    [-12.11, 257.89],
    [30.34, 300.34],
    [-92.28, 177.72],
    [-138.2, 131.8],
    [-149.4, 120.6],
    [-94.66, 175.34],
    [69.55, 339.55],
    [-96.46, 173.54],
    [-153.58, 116.42],
    [-81.83, 188.17],
    [-14.36, 255.64],
    [80.4, 350.4],
    [-82.9, 187.1],
    [-76.45, 193.55],
    [57.81, 327.81],
    [149.42, 419.42],
    [30.79, 300.79],
    [-32.04, 237.96],
    [93.67, 363.67],
    [130.2, 400.2],
    [-4.02, 310.98],
    [-135.34, 179.66],
    [83.73, 398.73],
    [-55.56, 259.44],
    [-76.43, 238.57],
    [117.32, 432.32],
    [30.34, 345.34],
    [32.9, 347.9],
    [109.43, 424.43],
    [-14.14, 300.86],
    [73.7, 388.7],
    [152.25, 467.25],
    [28.9, 343.9],
    [-87.04, 227.96],
    [32.33, 347.33],
    [23.74, 338.74],
    [-82.67, 232.33],
    [91.06, 406.06],
    [-161.43, 153.57],
    [54.43, 369.43],
    [109.63, 424.63],
    [-60.06, 254.94],
    [-96.46, 218.54],
    [84.56, 399.56],
    [61.55, 376.55],
    [-92.28, 222.72],
    [117.55, 432.55],
    [95.58, 410.58],
    [-33.74, 281.26],
    [43.34, 358.34],
    [-6.35, 308.65]
])

# Separate positions and directions
positions = points[:, 0]
directions = points[:, 1]

# Convert directions to radians
theta = np.radians(directions)

# Create a polar plot
plt.figure(figsize=(10, 8))
ax = plt.subplot(projection='polar')

# Create a heatmap
hist, theta_edges, r_edges = np.histogram2d(theta, positions, bins=(30, 30))
# Create a meshgrid for plotting
theta_grid, r_grid = np.meshgrid(theta_edges[:-1], r_edges[:-1])

# Use pcolormesh for the heatmap
c = ax.pcolormesh(theta_grid, r_grid, hist.T, shading='auto', cmap='viridis')

# Add color bar
plt.colorbar(c, ax=ax, orientation='vertical')

# Overlay scatter points
ax.scatter(theta, positions, color='k', s=10)

# Customize the plot
ax.set_title("Polar Heat Map with Ice Landing Points", va='bottom')
ax.set_theta_direction(-1)  # Clockwise direction
ax.set_theta_zero_location('N')  # 0 degrees at the top

plt.show()